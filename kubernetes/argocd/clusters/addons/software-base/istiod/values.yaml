# Istiod control plane configuration
pilot:
  autoscaleEnabled: false
  replicaCount: 2
  resources:
    requests:
      cpu: 100m
      memory: 128Mi

meshConfig:
  # Enable access logging
  accessLogFile: /dev/stdout
  accessLogEncoding: JSON
  # Default settings
  enablePrometheusMerge: true
  # Only include mesh namespaces and istio infrastructure
  discoverySelectors:
    - matchLabels:
        istio-injection: enabled
    - matchExpressions:
        - key: kubernetes.io/metadata.name
          operator: In
          values:
            - istio-system
            - istio-ingress
  defaultConfig:
    # Hold application until proxy is ready
    holdApplicationUntilProxyStarts: true
